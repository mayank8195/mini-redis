name: Java CI with Maven

# Trigger the workflow on push or pull request to main branch
on:
    push:
        branches: ["main", "master"]
    pull_request:
        branches: ["main", "master"]

jobs:
    build:
        runs-on: ubuntu-latest

        steps:
        # 1. Check out the code from the repo
        - uses: actions/checkout@v3
        
        # 2. Set up Java 21 environment
        - name: Set up JDK 21
          uses: actions/setup-java@v3
          with:
            java-version: '21'
            distribution: 'temurin'
            cache: maven
        
        # 3. Run the tests
        - name: Build with Maven
          run: mvn -B test --file pom.xml

